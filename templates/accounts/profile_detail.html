{% extends 'base.html' %}
{% load static %}
{% block title %}Profile - {{ author.username }}{% endblock %}
{% block content %}
<section class="py-12 px-4 max-w-4xl mx-auto">
  <div class="bg-slate-800/60 backdrop-blur rounded-2xl p-8 shadow-lg border border-cyan-500/40 flex gap-8 items-center">
    <div class="flex-shrink-0 w-40 h-40 rounded-full overflow-hidden ring-4 ring-cyan-400 shadow-2xl bg-slate-700">
      {% if profile and profile.avatar %}
        <img src="{{ profile.avatar.url }}" alt="{{ author.username }}" class="w-full h-full object-cover">
      {% else %}
        <img src="{% static 'pfp2.jpg' %}" alt="{{ author.username }}" class="w-full h-full object-cover">
      {% endif %}
    </div>
    <div>
      <h2 class="text-2xl font-semibold text-cyan-100">{{ author.get_full_name|default:author.username }}</h2>
      <p class="text-sm text-slate-400 mt-2">@{{ author.username }}</p>
      <p class="mt-4 text-black bg-white/90 px-4 py-3 rounded-lg">{{ profile.bio|default:"No bio yet." }}</p>
      {% if request.user == author %}
        <a href="{% url 'profile_edit' %}" class="inline-block mt-4 px-4 py-2 bg-cyan-500 hover:bg-cyan-600 text-slate-900 font-semibold rounded-lg transition">Edit profile</a>
      {% endif %}
    </div>
  </div>

  <h3 class="mt-8 mb-4 font-semibold text-lg text-cyan-400">Posts by {{ author.username }}</h3>
  <div class="space-y-4">
    {% for post in posts %}
      <div class="bg-slate-800/60 backdrop-blur rounded-2xl p-4 shadow-lg border border-cyan-500/40">
        <a href="{{ post.get_absolute_url }}" class="font-semibold text-cyan-100 hover:text-cyan-300">{{ post.title }}</a>
        <p class="text-sm text-slate-300 mt-2">{{ post.content|truncatechars:160 }}</p>
      </div>
    {% empty %}
      <p class="text-gray-600">No posts yet.</p>
    {% endfor %}
  </div>
</section>
{% endblock %}
